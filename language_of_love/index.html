<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ì‚¬ë‘ì˜ ì–¸ì–´ | ë£¨ì›¨ì¸ ë„ì„œê´€</title>
<style>
:root{
  --bg:#fafafa;--fg:#222;--muted:#666;
  --brand:#6c2bd9;--brand-2:#b84a62;--ai:#234a91;--human:#8b1e1e;--ebook:#7a3b8f;
  --chip-bg:#fff;--chip-bd:#e9e9ee;--chip-h:#f3f0ff;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font-family:-apple-system,BlinkMacSystemFont,"Pretendard","Segoe UI",Roboto,Arial,Apple SD Gothic Neo,Malgun Gothic,"Noto Sans KR",sans-serif}
a{color:inherit;text-decoration:none}
a:focus{outline:2px solid #0003;outline-offset:3px;border-radius:10px}

header.nav{
  position:sticky; top:0; z-index:10;
  backdrop-filter:saturate(130%) blur(6px);
  background:#ffffffd9; border-bottom:1px solid #00000010;
}
header.nav .wrap{
  max-width:1100px; margin:0 auto; padding:12px 16px;
  display:flex; align-items:center; gap:12px; flex-wrap:wrap;
}
.brand{font-weight:700; letter-spacing:.2px; color:var(--brand)}
.nav-links{display:flex; gap:10px; flex-wrap:wrap}
.nav-links a{
  padding:8px 10px; border:1px solid #00000010; border-radius:10px; color:#333; background:#fff;
}
.nav-links a:hover{background:#f6f6ff}

.hero{
  max-width:1100px; margin:18px auto 10px; padding:8px 16px 0;
}
.hero h1{margin:.4rem 0 .2rem; font-size:1.65rem}
.hero p{margin:.2rem 0; color:var(--muted); font-size:.95rem}

.section{max-width:1100px; margin:10px auto; padding:0 16px}
.section h2{
  margin:18px 0 10px; font-size:1.05rem; color:#222; font-weight:700;
  display:flex; align-items:center; gap:8px;
}
.badge{display:inline-block; padding:3px 8px; border-radius:999px; font-size:.78rem; border:1px solid #00000014; background:#fff}
.badge.ai{color:var(--ai); border-color:#2b5fb41a}
.badge.human{color:var(--human); border-color:#b81e1e1a}
.badge.ebook{color:var(--ebook); border-color:#7a3b8f1a}

.grid{
  display:grid; gap:10px;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
}
.chip{
  border:1px solid var(--chip-bd); background:var(--chip-bg);
  border-radius:14px; padding:12px 12px;
  display:flex; gap:10px; align-items:flex-start; transition:.18s ease;
}
.chip:hover{transform:translateY(-2px); background:var(--chip-h)}
.chip .icon{font-size:1.15rem; line-height:1.15rem}
.chip .meta{flex:1 1 auto}
.chip .title{font-weight:700; font-size:.98rem; margin:0 0 4px; color:#1c1c22}
.chip .desc{margin:0; font-size:.86rem; color:var(--muted)}
.chip.ai{border-left:4px solid var(--ai)}
.chip.human{border-left:4px solid var(--human)}
.chip.ebook{border-left:4px solid var(--ebook)}

.helper{margin-top:6px; color:#888; font-size:.82rem}
.tags{margin-top:6px; display:flex; gap:6px; flex-wrap:wrap}
.tag{font-size:.78rem; padding:2px 8px; border-radius:999px; background:#00000008; border:1px solid #00000010}

hr.sep{border:none; border-top:1px dashed #0000001a; margin:14px 0}

.empty{padding:10px; border:1px dashed #00000022; border-radius:10px; color:#777; font-size:.9rem; background:#fff}
</style>
</head>
<body>

<!-- ìƒë‹¨ ê³ ì • ë„¤ë¹„ê²Œì´ì…˜ -->
<header class="nav">
  <div class="wrap">
    <div class="brand">â¤ï¸ ì‚¬ë‘ì˜ ì–¸ì–´</div>
    <nav class="nav-links" aria-label="Global">
      <a href="../../index.html">ğŸ  ë£¨ì›¨ì¸ í™ˆ</a>
      <a href="../index.html">ğŸ“š ë„ì„œê´€ í™ˆ</a>
      <a href="../papers/ai_index.html">ğŸ¤– AI ë…¼ë¬¸</a>
      <a href="../papers/h_index.html">ğŸ§ ì¸ê°„ ë…¼ë¬¸</a>
      <a href="../ai_index.html">ğŸ“˜ AI ì±…</a>
      <a href="../h_index.html">ğŸ“• ì¸ê°„ ì±…</a>
    </nav>
  </div>
</header>

<!-- ì œëª©/ìš”ì•½ -->
<section class="hero">
  <h1>ì‚¬ë‘ì˜ ì–¸ì–´ (Love Language)</h1>
  <p id="seriesIntro">ê°ì •Â·ì˜ì‚¬ì†Œí†µì˜ ë³¸ì§ˆì„ íƒêµ¬í•˜ëŠ” ë£¨ì›¨ì¸ ì‹œë¦¬ì¦ˆ. (ìš”ì•½ì€ summary.txtê°€ ìˆìœ¼ë©´ ìë™ í‘œì¶œ)</p>
</section>

<!-- ë¹ ë¥¸ ì´ë™(ìë™ íƒì§€ëœ í•­ëª©ë“¤ë§Œ ë…¸ì¶œ) -->
<section class="section" id="quick">
  <h2>ë¹ ë¥¸ ì—´ëŒ <span class="badge ai">AI</span><span class="badge human">Human</span><span class="badge ebook">eBook</span></h2>
  <div class="grid" id="quickGrid">
    <!-- JSë¡œ ì±„ì›€: ì¡´ì¬í•˜ëŠ” íŒŒì¼ë§Œ ë²„íŠ¼(ì¹©)ìœ¼ë¡œ ë…¸ì¶œ -->
  </div>
  <p class="helper">â€» íŒŒì¼ëª…ì„ ë°”ê¾¸ê±°ë‚˜ ì§€ì› ë‹¤ë©´, ì´ í™”ë©´ì€ ìë™ìœ¼ë¡œ í˜„ì¬ ìƒíƒœë§Œ ë³´ì—¬ì¤ë‹ˆë‹¤.</p>
</section>

<hr class="sep" />

<!-- ì„¸ë¶€ ëª©ì°¨(ì„ íƒ): summary.txtì˜ íƒœê·¸/ë¶„ë¥˜ê°€ ìˆìœ¼ë©´ ë³´ì—¬ì¤Œ -->
<section class="section" id="about">
  <h2>ì‹œë¦¬ì¦ˆ ì •ë³´</h2>
  <div id="aboutBox" class="empty">summary.txtê°€ ì—†ê±°ë‚˜ ì•„ì§ ì •ë³´ê°€ ì—†ìŠµë‹ˆë‹¤.</div>
</section>

<script>
// ====== ìë™ íƒì§€ ë¡œì§ ======
// 1) ê°€ëŠ¥í•œ íŒŒì¼ëª… í›„ë³´ë“¤ì„ HEADë¡œ ê²€ì‚¬í•´, ì¡´ì¬í•˜ëŠ” ê²ƒë§Œ ì‘ì€ ì¹©ìœ¼ë¡œ ë³´ì—¬ì¤Œ.
//    - AI ì±…: ì ‘ë‘ì‚¬ ì—†ìŒ (index.html ì œì™¸)
//    - Human ì±…: h_ ì ‘ë‘ì‚¬
//    - eBook: ëŒ€í‘œ ì¹´íƒˆë¡œê·¸(ì´ í˜ì´ì§€ ìì²´ê°€ index.htmlì´ë¯€ë¡œ í•˜ìœ„ ì „ìì±… í´ë” í›„ë³´ íƒì§€)

const candidates = {
  aiBooks: [
    "love_language.html","Love_Language.html","a_love_language.html",
    "love.html","language_of_love.html"
  ],
  humanBooks: [
    "h_love_language.html","h_Love_Language.html","h_language_of_love.html"
  ],
  // ì „ìì±… ì¹´íƒˆë¡œê·¸/ë¦¬ë” í›„ë³´ (ìˆì„ ìˆ˜ë„/ì—†ì„ ìˆ˜ë„)
  ebooks: [
    "epub/index.html","ebook/index.html","reader/index.html","books/index.html"
  ]
};

async function headExists(url){
  try{
    const res = await fetch(url,{method:"HEAD"});
    return res.ok;
  }catch{return false;}
}

function addChip(grid, href, kind, title, desc){
  const div = document.createElement('a');
  div.href = href;
  div.className = `chip ${kind}`;
  div.innerHTML = `
    <div class="icon">${kind==="ai"?"ğŸ“˜":(kind==="human"?"ğŸ“•":"ğŸ“š")}</div>
    <div class="meta">
      <div class="title">${title}</div>
      <p class="desc">${desc}</p>
    </div>
  `;
  grid.appendChild(div);
}

async function buildQuick(){
  const grid = document.getElementById('quickGrid');

  // AI ì±… (ì ‘ë‘ì‚¬ ì—†ìŒ) â€” index.html(ìê¸°ìì‹ )ì€ ì œì™¸
  for(const f of candidates.aiBooks){
    if(f==="index.html") continue;
    if(await headExists(f)){
      addChip(grid, f, "ai", "AI ë²„ì „ ì—´ê¸°", f);
      break; // ëŒ€í‘œ 1ê°œë§Œ
    }
  }
  // Human ì±… (h_)
  for(const f of candidates.humanBooks){
    if(await headExists(f)){
      addChip(grid, f, "human", "Human ë²„ì „ ì—´ê¸°", f);
      break;
    }
  }
  // eBook ì¹´íƒˆë¡œê·¸(í•˜ìœ„ ë¦¬ë”)
  for(const f of candidates.ebooks){
    if(await headExists(f)){
      addChip(grid, f, "ebook", "ì „ìì±… ì¹´íƒˆë¡œê·¸", f);
      break;
    }
  }

  // í•˜ë‚˜ë„ ì—†ìœ¼ë©´ ì•ˆë‚´
  if(!grid.children.length){
    const box = document.createElement('div');
    box.className = "empty";
    box.textContent = "ì—´ ìˆ˜ ìˆëŠ” í•­ëª©ì´ ì•„ì§ ì—†ìŠµë‹ˆë‹¤. (íŒŒì¼ëª…ì´ ë°”ë€Œì—ˆê±°ë‚˜ ì—…ë¡œë“œ ì „ì¼ ìˆ˜ ìˆìŒ)";
    grid.appendChild(box);
  }
}

async function loadSummary(){
  try{
    const res = await fetch("./summary.txt");
    if(!res.ok) return;
    const txt = await res.text();
    const lines = txt.split(/\r?\n/).filter(Boolean);

    // ê°„ë‹¨ íŒŒì„œ: key: value í˜•ì‹
    const map = {};
    for(const line of lines){
      const [k,...vv]=line.split(":");
      if(!k||!vv.length) continue;
      map[k.trim()]=vv.join(":").trim();
    }

    // ìƒë‹¨ ì†Œê°œ
    const intro = document.getElementById('seriesIntro');
    if(map["ìš”ì•½"]||map["ì†Œê°œ"]) intro.textContent = (map["ìš”ì•½"]||map["ì†Œê°œ"]);

    // ì •ë³´ ë°•ìŠ¤
    const box = document.getElementById('aboutBox');
    const tags = (map["Tags"]||map["íƒœê·¸"]||"").split(/[, ]+/).filter(Boolean).map(t=>t.startsWith("#")?t:"#"+t);
    box.className = "";
    box.innerHTML = `
      <div style="background:#fff;border:1px solid #00000012;border-radius:12px;padding:12px;">
        <div style="display:flex;flex-wrap:wrap;gap:12px;align-items:center;">
          ${map["KDC"]?`<span class="badge">KDC ${map["KDC"]}</span>`:""}
          ${map["ë£¨ì›¨ì¸ì½”ë“œ"]?`<span class="badge">${map["ë£¨ì›¨ì¸ì½”ë“œ"]}</span>`:""}
          ${map["ì£¼ì œ"]?`<span class="badge">${map["ì£¼ì œ"]}</span>`:""}
        </div>
        ${tags.length?`<div class="tags" style="margin-top:10px;">${tags.map(t=>`<span class="tag">${t}</span>`).join("")}</div>`:""}
      </div>
    `;
  }catch{/* summary ì—†ìŒ */}
}

buildQuick();
loadSummary();
</script>
</body>
</html>
