<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>루웨인 관리자 대시보드</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
const SUPABASE_URL = "https://YOUR_PROJECT.supabase.co";
const SUPABASE_KEY = "YOUR_ANON_KEY";
const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

async function checkUser() {
  const { data, error } = await supabase.auth.getUser();
  const info = document.getElementById("info");
  if (data?.user) {
    info.textContent = "관리자 로그인됨: " + data.user.email;
  } else {
    info.textContent = "로그인 정보 없음";
  }
}

async function viewTable() {
  const { data, error } = await supabase.from("persna_records").select("*").limit(5);
  const out = document.getElementById("data");
  if (error) out.textContent = "⚠️ 오류: " + error.message;
  else out.textContent = JSON.stringify(data, null, 2);
}

checkUser();
</script>
</head>
<body style="font-family:'Noto Sans KR',sans-serif;padding:30px;">
<h2>🪶 루웨인 관리자 대시보드</h2>
<div id="info">로그인 확인 중...</div>
<hr>
<button onclick="viewTable()">persna_records 미리보기</button>
<pre id="data" style="background:#f7fbfa;border-radius:8px;padding:10px;"></pre>
</body>
</html>
