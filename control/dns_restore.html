<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>ë£¨ì›¨ì¸ ë„ë©”ì¸ ë³µì›ê¸°</title>
<style>
body {
  font-family: 'Pretendard', sans-serif;
  background: #f8f6fb;
  color: #333;
  text-align: center;
  padding: 40px;
}
h1 { color: #5c308a; }
pre {
  text-align: left;
  background: #eee;
  border-radius: 8px;
  padding: 10px;
  display: inline-block;
  max-width: 90%;
  overflow-x: auto;
}
section {
  background: white;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
  border-radius: 12px;
  padding: 20px;
  margin: 20px auto;
  width: 90%;
  max-width: 700px;
}
button {
  background: #5c308a;
  color: white;
  border: none;
  border-radius: 8px;
  padding: 10px 20px;
  cursor: pointer;
}
button:hover { background: #6e3cb3; }
.ok { color: #2b8a3e; font-weight: bold; }
.fail { color: #c92a2a; font-weight: bold; }
.warn { color: #f59f00; font-weight: bold; }
</style>
</head>
<body>
<h1>ğŸŒ ë£¨ì›¨ì¸ ë„ë©”ì¸ ë³µì›ê¸°</h1>
<p>ì´ í˜ì´ì§€ëŠ” Cloudflareì—ì„œ <b>luwain.net</b> ë„ë©”ì¸ì˜ DNS ì„¤ì •ê³¼ GitHub Pages ì—°ê²°ì„ ìë™ìœ¼ë¡œ ë³µì›í•©ë‹ˆë‹¤.</p>

<section>
  <h3>1ï¸âƒ£ DNS ë ˆì½”ë“œ ì„¤ì •</h3>
  <p>ì•„ë˜ ì„¤ì •ê°’ì„ ê·¸ëŒ€ë¡œ ë³µì‚¬í•˜ì—¬ Cloudflare DNSì— ì…ë ¥í•˜ì„¸ìš”.</p>
  <pre>
A  @  185.199.108.153
A  @  185.199.109.153
A  @  185.199.110.153
A  @  185.199.111.153
CNAME  www  lovelang.github.io
  </pre>
  <p class="warn">â˜ï¸ Cloudflare í”„ë¡ì‹œëŠ” êº¼ì•¼ í•©ë‹ˆë‹¤ (íšŒìƒ‰ êµ¬ë¦„ ìƒíƒœ).</p>
</section>

<section>
  <h3>2ï¸âƒ£ CNAME íŒŒì¼ ë³µì›</h3>
  <button onclick="restoreCNAME()">ğŸ“„ CNAME ë‹¤ìš´ë¡œë“œ</button>
  <div id="cname_result" style="margin-top:20px;"></div>
</section>

<section>
  <h3>3ï¸âƒ£ HTTPS ìƒíƒœ í™•ì¸</h3>
  <button onclick="checkHTTPS()">ğŸ” HTTPS í™•ì¸</button>
  <div id="https_result" style="margin-top:20px;"></div>
</section>

<script>
async function restoreCNAME() {
  const result = document.getElementById('cname_result');
  result.innerHTML = 'â³ CNAME íŒŒì¼ ìƒì„± ì¤‘...';
  try {
    const cnameContent = 'luwain.net\nwww.luwain.net';
    const blob = new Blob([cnameContent], { type: 'text/plain' });
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'CNAME';
    a.click();
    result.innerHTML = '<p class="ok">âœ… CNAME íŒŒì¼ ìƒì„± ì™„ë£Œ. ë£¨íŠ¸ì— ì—…ë¡œë“œí•˜ì„¸ìš”.</p>';
  } catch (e) {
    result.innerHTML = `<p class="fail">âŒ ì˜¤ë¥˜ ë°œìƒ: ${e.message}</p>`;
  }
}

async function checkHTTPS() {
  const result = document.getElementById('https_result');
  result.innerHTML = 'â³ HTTPS ìƒíƒœ í™•ì¸ ì¤‘...';
  try {
    const res = await fetch(window.location.origin, { method: 'HEAD' });
    if (res.ok && location.protocol === 'https:')
      result.innerHTML = `<p class="ok">âœ… HTTPS ì •ìƒ ì‘ë™ (${window.location.origin})</p>`;
    else if (location.protocol !== 'https:')
      result.innerHTML = `<p class="warn">âš ï¸ HTTPS ë¯¸ì‚¬ìš©. https:// ë¥¼ í™•ì¸í•˜ì„¸ìš”.</p>`;
    else
      result.innerHTML = `<p class="fail">âŒ HTTPS ì—°ê²° ì‹¤íŒ¨</p>`;
  } catch(e) {
    result.innerHTML = `<p class="fail">âŒ HTTPS í™•ì¸ ì˜¤ë¥˜: ${e.message}</p>`;
  }
}
</script>
</body>
</html>
